<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<plugin>

   <extension point="org.eclipse.wst.server.core.runtimeTypes">
	    <runtimeType
	       id="org.apache.openejb.server.generic.runtime.openejb3"
	       name="%openejbRuntimeTypeName"
	       description="%openejbRuntimeTypeDescription"
	       vendor="%openejbCategory"
	       version="3.0.0"
	       class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
	      <moduleType
	         types="jst.ejb"
	         versions="2.1, 3.0"/>
	    </runtimeType>
 	</extension>

	<extension point="org.eclipse.wst.server.core.serverTypes">
	     <serverType
	           runtime="true"
	           class="org.eclipse.jst.server.generic.core.internal.GenericServer"
	           id="org.apache.openejb.server.generic.openejb3"
	           initialState="stopped"
	           supportsRemoteHosts="false"
	           runtimeTypeId="org.apache.openejb.server.generic.runtime.openejb3"
	           description="%openejbRuntimeTypeDescription"
	           launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
	           behaviourClass="org.eclipse.jst.server.generic.core.internal.GenericServerBehaviour"
	           name="%openejbServerTypeName"
	           startTimeout="20000"
		       stopTimeout="20000"
	           hasConfiguration="false"
	           launchModes="run">
	          
	     </serverType>
	</extension>
    <extension point="org.eclipse.wst.server.ui.wizardFragments">
	     <fragment
	        id="org.eclipse.jst.server.generic.runtime"
	        typeIds="org.apache.openejb.server.generic.runtime.openejb3"
	        class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
	     <fragment
	        id="org.eclipse.jst.server.generic.server"
	        typeIds="org.apache.openejb.server.generic.openejb3"
	        class="org.eclipse.jst.server.generic.ui.internal.GenericServerWizardFragment"/>   
	</extension>Â´
	
   <extension point="org.eclipse.jst.server.core.runtimeClasspathProviders">
     <runtimeClasspathProvider
        id="org.eclipse.jst.server.generic.runtimeTarget"
        runtimeTypeIds="org.apache.openejb.server.generic.runtime.openejb*"
        class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntimeTargetHandler"/>
	</extension>
	
   <extension point="org.eclipse.jst.server.generic.core.serverdefinition">
		<serverdefinition id="org.apache.openejb.server.generic.runtime.openejb3" definitionfile="/servers/openejb3.serverdef">
		</serverdefinition>
   </extension>

  <extension point="org.eclipse.wst.common.project.facet.core.runtimes">
     <runtime-component-type
       id="org.apache.openejb.server.generic.runtime.openejb"/>

    <runtime-component-version
       type="org.apache.openejb.server.generic.runtime.openejb"
       version="3.0.0"/>
    <adapter>
      <runtime-component
         id="org.apache.openejb.server.generic.runtime.openejb"/>
      <factory
         class="org.eclipse.jst.server.core.internal.RuntimeClasspathProvider$Factory"/>
      <type
         class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
    </adapter>

    <adapter>
      <runtime-component id="org.apache.openejb.server.generic.runtime.openejb"/>
      <factory class="org.eclipse.jst.server.ui.internal.RuntimeLabelProvider$Factory"/>
      <type class="org.eclipse.wst.common.project.facet.ui.IRuntimeComponentLabelProvider"/>
    </adapter>
    <supported>
      <runtime-component
         id="org.apache.openejb.server.generic.runtime.openejb"
         version="3.0.0"/>
       <facet
         id="jst.ejb"
         version="2.1, 3.0"/>

    </supported>

  </extension>


  <extension point="org.eclipse.jst.server.core.runtimeFacetMappings">
    <runtimeFacetMapping
      runtimeTypeId="org.apache.openejb.server.generic.runtime.openejb3"
      runtime-component="org.apache.openejb.server.generic.runtime.openejb"
      version="3.0.0"/>
  </extension>
</plugin>
