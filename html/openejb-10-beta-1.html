
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
    <!-- $PAGETITLE -->
    <TITLE>OpenEJB - OpenEJB 1.0 Beta 1</TITLE>
    <LINK href="http://openejb.apache.org/all.css" rel="stylesheet" type="text/css">
    <!--[if IE]><link rel="stylesheet" type="text/css" media="screen, projection" href="openejb.apache.org/ie.css"><![endif]-->

    <LINK rel="SHORTCUT ICON" href="http://openejb.apache.org/images/favicon.ico">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
<SCRIPT language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js" type="text/javascript"></SCRIPT>
<SCRIPT language="javascript" src="http://openejb.apache.org/tweet/jquery.tweet.js" type="text/javascript"></SCRIPT>
<SCRIPT type="text/javascript">
    $(document).ready(function(){
        $(".tweet").tweet({
        avatar_size: 32,
        count: 4,
	fetch:25,
        username: "openejb",
        list: "contributors",
	template:"{avatar}{text}",
	filter: function(t){ return /openejb/i.test(t["tweet_raw_text"]); },
        loading_text: "loading list..."
        });
    });
</SCRIPT> 

  </HEAD>
  <BODY>

    <!-- Delay the loading of the external javascript file needed for labels (as it takes too long to load and visibly holds loading of the page body) -->
    <!-- To do this without javascript errors over undefined functions, we need to declare stubs here (that are overrided later by the proper implementations) -->
    <SCRIPT language="JavaScript" type="text/javascript">
      function doAddLabel(hideTextfieldAfterAddParam)
      {
      // stub
      }

      function onAddLabel()
      {
      // stub
      }

      function showLabelsInput()
      {
      // stub
      }
    </SCRIPT>

    <A name="top"></A>
    <TABLE class="frameTable" cellpadding="0" cellspacing="0" border="0">
      <TR class="Row1">
        <TD class="Col1"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col2"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col3"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col4"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col5"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
      </TR>
      <TR class="Row2">
        <TD class="Col1"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col2">&nbsp;</TD>
        <TD class="Col3" id="breadcrumbs">
          <!-- $TOP_NAV_BAR -->
                    <A href="index.html" title="Index">Home</A> | <A href="news.html" title="News">News</A> | <A href="faq.html" title="FAQ">FAQ</A> | <A href="download.html" title="Download">Download</A> | <A href="mailing-lists.html" title="Mailing Lists">Lists</A> | <A href="http://issues.apache.org/jira/browse/OPENEJB" class="external-link" rel="nofollow">Issues</A>

        </TD>
        <TD class="Col4"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col5">&nbsp;</TD>
      </TR>
      <TR class="Row3">
        <TD class="Col1"><IMG alt="" class="Row3Img" id="thinLine" src="http://openejb.apache.org/images/line_sm.gif"></TD>
        <TD class="Col2"><IMG alt="" class="Row3Img" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col3"><IMG alt="" class="Row3Img" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col4"><IMG alt="" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col5"><IMG alt="" class="Row3Img" src="http://openejb.apache.org/images/dotTrans.gif"></TD>
      </TR>
      <TR class="Row4">
        <TD class="Col1">
          <SPAN id="Navigation">

                        <H3><A name="Navigation-Overview"></A>Overview</H3>

<UL class="alternate" type="square">
	<LI><A href="index.html" title="Index">Home</A></LI>
	<LI><A href="news.html" title="News">News</A></LI>
	<LI><A href="faq.html" title="FAQ">FAQ</A></LI>
	<LI><A href="download.html" title="Download">Download</A></LI>
	<LI><A href="../OPENEJBx30/index.html" title="Index">Documentation</A></LI>
	<LI><A href="examples.html" title="Examples">Examples</A></LI>
	<LI><A href="http://cwiki.apache.org/confluence/display/OPENEJB/Lightening%20Demos" class="external-link" rel="nofollow">Lightning Demos</A></LI>
	<LI><A href="mailing-lists.html" title="Mailing Lists">Mailing Lists</A></LI>
	<LI><A href="source-code.html" title="Source Code">Source Code</A></LI>
	<LI><A href="http://blogs.apache.org/openejb" class="external-link" rel="nofollow">Project Blog</A></LI>
</UL>


<H3><A name="Navigation-Servers"></A>Servers</H3>

<UL class="alternate" type="square">
	<LI><A href="local-server.html" title="Local Server">Local</A></LI>
	<LI><A href="remote-server.html" title="Remote Server">Remote</A></LI>
</UL>


<H3><A name="Navigation-Integrations"></A>Integrations</H3>

<UL class="alternate" type="square">
	<LI><A href="../OPENEJBx30/tomcat.html" title="Tomcat">Tomcat</A></LI>
	<LI><A href="geronimo.html" title="Geronimo">Geronimo</A></LI>
	<LI><A href="webobjects.html" title="WebObjects">WebObjects</A></LI>
</UL>


<H3><A name="Navigation-Community"></A>Community</H3>

<UL class="alternate" type="square">
	<LI><A href="team.html" title="Team">Team</A></LI>
	<LI><A href="articles.html" title="Articles">Articles</A></LI>
	<LI><A href="http://webchat.freenode.net/?channels=openejb" class="external-link" rel="nofollow">IRC</A></LI>
</UL>


<H3><A name="Navigation-RelatedProjects"></A>Related Projects</H3>

<UL class="alternate" type="square">
	<LI><A href="http://activemq.apache.org/" class="external-link" rel="nofollow">ActiveMQ</A></LI>
	<LI><A href="http://openjpa.apache.org/" class="external-link" rel="nofollow">OpenJPA</A></LI>
	<LI><A href="http://cxf.apache.org/" class="external-link" rel="nofollow">CXF</A></LI>
</UL>


<H3><A name="Navigation-Index"></A>Index</H3>
<UL class="alternate" type="square">
	<LI><A href="space-index.html" title="Space Index">Site Index</A></LI>
	<LI><A href="../OPENEJBx30/space-index.html" title="Space Index">Doc Index</A></LI>
</UL>

            <H3>
              <A name="Navigation-Feeds"></A>
              Feeds
            </H3>

            <UL class="feeds">
            <LI>
              <A href="http://cwiki.apache.org/confluence/spaces/rss.action?key=OPENEJB&newPages=false">
              <IMG src="http://openejb.apache.org/images/rss.gif"></A>
              <A class="feedsText" href="http://cwiki.apache.org/confluence/spaces/rss.action?key=OPENEJB&newPages=false">Site</A>
            </LI>

            <LI><A href="http://cwiki.apache.org/confluence/spaces/blogrss.action?key=OPENEJB">
              <IMG src="http://openejb.apache.org/images/rss.gif"></A>
              <A class="feedsText" href="http://cwiki.apache.org/confluence/spaces/blogrss.action?key=OPENEJB">News</A>
            </LI>
            </UL>
          </SPAN>
        </TD>
        <TD class="Col2">&nbsp;</TD>
        <TD class="Col3">
          <TABLE id="PageHeader" border="0" width="100%">
            <TR>
              <TD>
                <A href="http://openejb.org/">
                  <IMG hspace="0" src="http://openejb.apache.org/images/logo_openejb.gif" vspace="0">
                </A>
              </TD>
              <TD align="right">
                <A href="http://www.apache.org/">
                  <IMG src="http://www.apache.org/images/asf-logo.gif" width="258" height="66">
                </A>
              </TD>
            </TR>
            <TR>
              <TD id="page_title">
                <!-- $TITLE -->
                OpenEJB 1.0 Beta 1
              </TD>

              <TD align="right">
                <BR><BR>
                <!-- Google CSE Search Box Begins  -->
                <FORM id="searchbox_010475492895890475512:_t4iqjrgx90" action="http://www.google.com/cse">
                  <INPUT type="hidden" name="cx" value="010475492895890475512:_t4iqjrgx90">
                  <INPUT type="hidden" name="cof" value="FORID:0">
                  <INPUT name="q" type="text" size="25">
                  <INPUT type="submit" name="sa" value="Search">
                </FORM>
                <SCRIPT type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_010475492895890475512:_t4iqjrgx90"></SCRIPT>
                <!-- Google CSE Search Box Ends -->

              </TD>
            </TR>
          </TABLE>
          <P>
            <!-- $BODY -->
            <DIV id="PageContent">
              
<UL>
	<LI>Release Date: August 28th, 2005</LI>
</UL>


<H1><A name="OpenEJB1.0Beta1-Download"></A>Download</H1>

<UL>
	<LI>Binary: openejb-1.0-beta1 {<A href="http://openejb.codehaus.org/dist/openejb-1.0-beta1.zip" class="external-link" rel="nofollow">zip</A> , <A href="http://openejb.codehaus.org/dist/openejb-1.0-beta1.tar.gz" class="external-link" rel="nofollow">tar.gz</A>}</LI>
	<LI>Source: openejb-1.0-beta1-src {<A href="http://openejb.codehaus.org/dist/openejb-1.0-beta1-src.zip" class="external-link" rel="nofollow">zip</A> , <A href="http://openejb.codehaus.org/dist/openejb-1.0-beta1-src.tar.gz" class="external-link" rel="nofollow">tar.gz</A> , <A href="http://cvs.codehaus.org/viewrep/~tag%3Dv1_0beta1/openejb/openejb1" class="external-link" rel="nofollow">browse</A>}</LI>
	<LI>Updated <A href="http://www.openejb.org/1.0-beta1/ejb-testing-examples.zip" class="external-link" rel="nofollow">ejb-testing-examples.zip</A> for the <A href="http://www.theserverside.com/articles/article.tss?l=ContainerDrivenTestingSeries" class="external-link" rel="nofollow">Container Driven Testing Series</A> on TheServerSide.com</LI>
</UL>


<DIV class="panelMacro"><TABLE class="warningMacro"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="https://cwiki.apache.org/confluence/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B>Windows Users</B><BR>Use the Latest Unstable, this release will not work for windows users</TD></TR></TABLE></DIV>

<H1><A name="OpenEJB1.0Beta1-NewFeatures"></A>New Features</H1>

<H2><A name="OpenEJB1.0Beta1-EJB2.0Localinterfacesupport"></A>EJB 2.0 Local interface support</H2>

<P>  OpenEJB now has support for EJB 2.0 Local Interfaces.  This is very nice for when OpenEJB is combined with Tomcat  or embedded in another application where Remote interfaces  are not always needed.  See the &quot;Moviefun&quot; example in the  source or binary distributions for how to use them.  Note that no other EJB 2.0 features (such as CMP 2 or MDBs)<BR>
  are supported in the OpenEJB 1.x codebase.</P>

<H2><A name="OpenEJB1.0Beta1-CollapsedEARsupport"></A>Collapsed EAR support</H2>

<P>  <A href="collapsed-ear.html" title="Collapsed EAR">Collapsed EAR</A>s are an OpenEJB invention allowing you to  combine your ejbs and servlets in the same archive and  classloader.  This is essentially a new way to embed OpenEJB  into Tomcat so that OpenEJB and your EJBs are loaded only  into your webapp.  Combine this with an embedded database  and you have a complete mini-J2EE environment that can be  hosted in your Tomcat webapp space.</P>

<P>  See the &quot;Moviefun&quot; example in the distribution which will  be online for a short while here:</P>

<P>  <A href="http://demo1.openejb.org/moviefun" class="external-link" rel="nofollow">http://demo1.openejb.org/moviefun</A></P>

<P>  (visit <A href="http://demo1.openejb.org/moviefun/setup.jsp" class="external-link" rel="nofollow">http://demo1.openejb.org/moviefun/setup.jsp</A> to reset)</P>

<H2><A name="OpenEJB1.0Beta1-UnpackedEJBJarsupport"></A>Unpacked EJB Jar support</H2>

<P>  It is now possible to deploy and run EJB apps that are not  in a *.jar archive.  For example, for ejb app located at:</P>

<BLOCKQUOTE><P>/home/jsmith/myejbapp/META-INF/ejb-jar.xml</P></BLOCKQUOTE>

<P>  Simply add a Deployments declaration to the openejb.conf  like the following:</P>

<BLOCKQUOTE><P>&lt;Deployment dir=&quot;/home/jsmith/myejbapp&quot; /&gt;</P></BLOCKQUOTE>

<H2><A name="OpenEJB1.0Beta1-AutoDeployforSimpleApps"></A>Auto Deploy for Simple Apps</H2>

<P>  In OpenEJB 1.0 beta1, the use of openejb-jar.xml is not  required for ejb-jar.xml files that do not contain CMP  EntityBeans or ejbs with multiple datasource references.</P>

<H2><A name="OpenEJB1.0Beta1-MacOSXUsers"></A>Mac OSX Users</H2>

<P>The speed of the Remote Server has been improved tremendously  to compensate for differing default parameters for TCP Socket  creation and closing in the Mac OSX Java VM.  This makes sequential  calls from a Remote Client to the Server several times faster.</P>


<H1><A name="OpenEJB1.0Beta1-UpgradeNotes"></A>Upgrade Notes</H1>

<H2><A name="OpenEJB1.0Beta1-CMPconfigchange"></A>CMP config change</H2>

<P>In 0.9.2 and before, the JDO database was using the private JNDI namespace of the very first CMP accessed to grab a datasource and hold onto it for use on all requests into the CMP container.  This was configured with something like this:</P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>cmp.global_database.xml</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-xml">   <SPAN class="code-tag">&lt;database name=<SPAN class="code-quote">&quot;Global_TX_Database&quot;</SPAN> engine=<SPAN class="code-quote">&quot;instantdb&quot;</SPAN>&gt;</SPAN>
       <SPAN class="code-tag">&lt;jndi name=<SPAN class="code-quote">&quot;java:comp/env/jdbc/basic/entityDatabase&quot;</SPAN> /&gt;</SPAN>
       <SPAN class="code-tag">&lt;mapping href=<SPAN class="code-quote">&quot;conf/default.cmp_mapping.xml&quot;</SPAN> /&gt;</SPAN>
   <SPAN class="code-tag">&lt;/database&gt;</SPAN>
</PRE>
</DIV></DIV>

<P>This was just wrong.  We've switched it so that the &quot;jndi&quot; tag of a Castor database.xml file can be set directly to the global JNDI name of a Connector element declared in an openejb.conf file.  </P>

<DIV class="code panel" style="border-width: 1px;"><DIV class="codeHeader panelHeader" style="border-bottom-width: 1px;"><B>cmp.global_database.xml</B></DIV><DIV class="codeContent panelContent">
<PRE class="code-xml">   <SPAN class="code-tag">&lt;database name=<SPAN class="code-quote">&quot;Global_TX_Database&quot;</SPAN> engine=<SPAN class="code-quote">&quot;instantdb&quot;</SPAN>&gt;</SPAN>
       <SPAN class="code-tag">&lt;jndi name=<SPAN class="code-quote">&quot;java:openejb/connector/Default JDBC Database&quot;</SPAN> /&gt;</SPAN>
       <SPAN class="code-tag">&lt;mapping href=<SPAN class="code-quote">&quot;conf/default.cmp_mapping.xml&quot;</SPAN> /&gt;</SPAN>
   <SPAN class="code-tag">&lt;/database&gt;</SPAN>
</PRE>
</DIV></DIV>

<P>This is still not so optimal as we do not want to people using OpenEJB's internal jndi and encourage people to become dependent on it.  Newer releases of Castor allow for a completely programmatic way to configure a JDO database.  In future releases, these global and local database files will go away all together!  You will only need to specify your mapping.xml and will be able to pack it in your ejb jar.</P>

<H2><A name="OpenEJB1.0Beta1-ClassLoaderchange"></A>ClassLoader change</H2>

<P>In 0.9.2 all EJBs were added to the same classloader as the Containers, Server and all the other EJBs.  In 1.0 beta1, all the EJBs are still in the same classloader, but one that is a child of the  Container and Server.  The code to keep each EJB jar in it's own classloader does exist, but limitations in the way we configure the CMP container with Castor prevent us from using it.  When the CMP change made above is fixed, we will support separate classloaders for each EJB jar as an option.</P>

<H1><A name="OpenEJB1.0Beta1-Changelog"></A>Changelog</H1>

    
    



<DIV class="jiraissues_table">

    <FIELDSET class="hidden">
        <INPUT type="hidden" name="retrieverUrlHtml" value="/confluence/plugins/servlet/issue-retriever?url=http%3A%2F%2Fjira.codehaus.org%2Fsecure%2FIssueNavigator.jspa%3Fview%3Drss%26pid%3D10401%26fixfor%3D11983%26reset%3Dtrue%26decorator%3Dnone&columns=key&columns=summary&useTrustedConnection=true">
        <INPUT type="hidden" name="sortField" value="key">
        <INPUT type="hidden" name="sortOrder" value="desc">
        <INPUT type="hidden" name="clickableUrl" value="http://jira.codehaus.org/secure/IssueNavigator.jspa?pid=10401&fixfor=11983&sorter/field=issuekey&sorter/order=DESC&reset=true">
        <INPUT type="hidden" name="title" value="JIRA Issues">
        <INPUT type="hidden" name="requestedPage" value="1">
        <INPUT type="hidden" name="resultsPerPage" value="500">
        <INPUT type="hidden" name="errormsg" value="Connection Error">
        <INPUT type="hidden" name="pagestat" value="Displaying {from} to {to} of {total} items">
        <INPUT type="hidden" name="procmsg" value="Processing, please wait...">
        <INPUT type="hidden" name="nomsg" value="No items">
        <INPUT type="hidden" name="useCache" value="true">
        <INPUT type="hidden" name="showTrustWarnings" value="true">
                <INPUT type="hidden" name="sortEnabled" value="true">
        <INPUT type="hidden" name="width" value="100%">
                                <INPUT type="hidden" name="Key" value="key" class="columns nowrap">
                                <INPUT type="hidden" name="Summary" value="summary" class="columns">
                <INPUT type="hidden" name="jiraissuesError" value="Error">
    </FIELDSET>

    <A name="jiraissues"></A>

        <DIV class="trusted_warnings" style="display:none"><DIV class="panelMacro"><TABLE class="noteMacro"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="https://cwiki.apache.org/confluence/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD></TD></TR></TABLE></DIV></DIV>
    
        <IFRAME class="jiraissues_errorMsgSandbox hidden" frameborder="0"></IFRAME>
</DIV>

            </DIV>
          </P>
        </TD>
        <TD class="Col4"><IMG src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col5">
                    
        </TD>
      </TR>
      <TR class="Row5">
        <TD class="Col1">&nbsp;</TD>
        <TD class="Col2">&nbsp;</TD>
        <TD class="Col3">
          <BR>
          <BR>
          <IMG width="100%" height="1" src="http://openejb.apache.org/images/line_light.gif">
          <TABLE width="100%">
            <TR>
              <TD>
                <SPAN class="bodyGrey">
                  <SMALL>
                    <NOTICE><!-- $FOOTER -->
                      Apache OpenEJB is an project of The Apache Software Foundation (ASF)
                    </NOTICE>
                    <BR>
                    Site Powered by
                    <A href="http://atlassian.com/">Atlassian</A>
                    <A href="http://atlassian.com/confluence/">Confluence</A>
                    .
                  </SMALL>
                </SPAN>
              </TD>
              <TD align="right">
                <A style="color:#999;font-size:small;font-weight:normal;" href="https://cwiki.apache.org/confluence/pages/editpage.action?spaceKey=OPENEJB&title=OpenEJB%201.0%20Beta%201">[ edit ]</A>
              </TD>
            </TR>
          </TABLE>
          <BR>
        </TD>
        <TD class="Col4"><IMG src="http://openejb.apache.org/images/dotTrans.gif"></TD>
        <TD class="Col5">&nbsp;</TD>
      </TR>
    </TABLE>

    <!-- Needed for composition plugin -->
    <!-- delay the loading of large javascript files to the end so that they don't interfere with the loading of page content -->
    <SPAN style="display: none">
      <SCRIPT type="text/javascript" language="JavaScript" src="http://cwiki.apache.org/confluence/labels-javascript"></SCRIPT>

      <SCRIPT src="http://www.google-analytics.com/urchin.js" type="text/javascript">
      </SCRIPT>
      <SCRIPT type="text/javascript">
        _uacct = "UA-2717626-1";
        urchinTracker();
      </SCRIPT>
    </SPAN>

  </BODY>
</HTML>